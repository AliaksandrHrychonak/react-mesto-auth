{"version":3,"sources":["images/logo.svg","components/Header.jsx","contexts/CurrentUserContext.jsx","components/Card.jsx","components/Main.jsx","components/Footer.jsx","components/PopupWithForm.jsx","components/EditAvatarPopup.jsx","components/AddPlacePopup.jsx","components/EditProfilePopup.jsx","components/ImagePopup.jsx","components/DeleteCardPopup.jsx","utils/api.js","components/Login.jsx","components/Register.jsx","components/ProtectedRoute.jsx","utils/auth.js","components/InfoTooltip.jsx","components/Loader.jsx","components/App.jsx","reportWebVitals.js","index.js"],"names":["Header","props","className","href","target","src","logo","alt","exact","path","userEmail","to","onClick","handleLogOut","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onCardDelete","link","name","onCardClick","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","useEffect","handleEsc","event","keyCode","onClose","window","addEventListener","removeEventListener","isOpen","onMouseDown","evt","stopPropagation","titleTheme","title","onSubmit","children","buttonText","EditAvatarPopup","avatarRefInput","useRef","preventDefault","onUpdateAvatar","current","value","isLoad","ref","id","defaultValue","placeholder","required","AddPlacePopup","useState","setName","setLink","onChange","minLength","maxLength","EditProfilePopup","info","setInfo","onUpdateUser","ImagePopup","DeleteCardPopup","api","config","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_handleResponce","data","body","JSON","stringify","cardId","authorization","Login","email","setEmail","password","setPassword","Register","ProtectedRoute","Component","component","loggedIn","auth","registration","token","console","log","localStorage","setItem","getToken","InfoTooltip","Loader","isLoading","App","setCurrentUser","setCards","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","selectedCard","setSelectedCard","setIsLoad","cardToDelete","setCardToDelete","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","setLoggedIn","setUserEmail","setisLoading","history","useHistory","getInitialCards","catch","err","error","finally","getUserInfo","getItem","jwt","handleLogIn","push","handleTooltipOpen","closeAllPopups","Provider","removeItem","toggleLikeCard","newCard","state","c","setUserInfo","setAvatar","postCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0NAAe,MAA0B,iC,cCGlC,SAASA,EAAOC,GACrB,OACE,yBAAQC,UAAU,SAAlB,UACE,mBAAGC,KAAK,cAAcD,UAAU,eAAeE,OAAO,SAAtD,SACE,qBAAKF,UAAU,eAAeG,IAAKC,EAAMC,IAAI,iDAG/C,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAlB,SACE,sBAAKP,UAAU,qBAAf,UACE,mBAAGA,UAAU,eAAb,SAA6BD,EAAMS,YACnC,cAAC,IAAD,CACEC,GAAG,WACHC,QAASX,EAAMY,aACfX,UAAU,wCAHZ,iDAUJ,cAAC,IAAD,CAAOO,KAAK,WAAZ,SACE,cAAC,IAAD,CAAME,GAAG,WAAWT,UAAU,eAA9B,kFAKF,cAAC,IAAD,CAAOO,KAAK,WAAZ,SACE,cAAC,IAAD,CAAME,GAAG,WAAWT,UAAU,eAA9B,oDC9BH,IAAMY,EAAqBC,IAAMC,gBCEjC,SAASC,EAAKhB,GACnB,IAAMiB,EAAcH,IAAMI,WAAWL,GAE/BM,EAAQnB,EAAMoB,KAAKC,MAAMC,MAAQL,EAAYK,IAC7CC,EAAyB,kCAC7BJ,EACI,uCACA,uCAEAK,EAAUxB,EAAMoB,KAAKK,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQL,EAAYK,OAC7DM,EAAuB,gCAC3BJ,EAAU,+BAAiC,KAa7C,OACE,qBAAKvB,UAAU,WAAf,SACE,sBAAKA,UAAU,iBAAf,UACE,wBACE4B,KAAK,SACL5B,UAAWsB,EACXZ,QAVkB,WACxBX,EAAM8B,aAAa9B,EAAMoB,SAWrB,qBACEhB,IAAKJ,EAAMoB,KAAKW,KAChBzB,IAAKN,EAAMoB,KAAKY,KAChB/B,UAAU,kBACVU,QAnBY,WAClBX,EAAMiC,YAAYjC,EAAMoB,SAoBpB,sBAAKnB,UAAU,wBAAf,UACE,oBAAIA,UAAU,kBAAd,SAAiCD,EAAMoB,KAAKY,OAC5C,sBAAK/B,UAAU,2BAAf,UACE,wBACEU,QA5BY,WACtBX,EAAMkC,WAAWlC,EAAMoB,OA4BbnB,UAAW2B,EACXC,KAAK,SACLG,KAAK,OACL,aAAW,SAEb,mBAAG/B,UAAU,qBAAb,SAAmCD,EAAMoB,KAAKK,MAAMU,oBChDzD,SAASC,EAAKpC,GACnB,IAAMiB,EAAcH,IAAMI,WAAWL,GAYrC,OACE,uBAAMZ,UAAU,OAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,qBACEA,UAAU,kBACVG,IAAKa,EAAYoB,OACjB/B,IAAI,wEAEN,qBAAKL,UAAU,uBAAuBU,QApB3B,WACnBX,EAAMsC,aAAatC,EAAMW,eAqBnB,sBAAKV,UAAU,gBAAf,UACE,oBAAIA,UAAU,sBAAd,SAAqCgB,EAAYe,OACjD,wBACE/B,UAAU,uBACV4B,KAAK,SACLG,KAAK,OACL,aAAW,iFACXrB,QA1BU,WACpBX,EAAMuC,cAAcvC,EAAMW,YA2BlB,mBAAGV,UAAU,yBAAb,SAAuCgB,EAAYuB,cAGvD,qBAAKvC,UAAU,gBAAf,SACE,wBACEA,UAAU,sBACV4B,KAAK,SACLG,KAAK,MACL,aAAW,mDACXrB,QAlCS,WACjBX,EAAMyC,WAAWzC,EAAMW,iBAqCrB,yBAASV,UAAU,WAAnB,SACE,qBAAKA,UAAU,iBAAf,SACGD,EAAM0C,MAAMC,KAAI,SAACvB,GAAD,OACf,cAACJ,EAAD,CACEI,KAAMA,EAENa,YAAajC,EAAMiC,YACnBC,WAAYlC,EAAMkC,WAClBJ,aAAc9B,EAAM8B,cAHfV,EAAKE,eCvDjB,SAASsB,IACd,OACE,wBAAQ3C,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,sCCFC,SAAS4C,EAAc7C,GAe5B,OAbAc,IAAMgC,WAAU,WACd,IAAMC,EAAY,SAACC,GACM,KAAlBA,EAAMC,SACTjD,EAAMkD,WAKV,OAFAC,OAAOC,iBAAiB,UAAWL,GAE5B,WACLI,OAAOE,oBAAoB,UAAWN,MAEvC,IAGD,qBACE9C,UAAS,2BAAsBD,EAAMgC,KAA5B,YAAoChC,EAAMsD,OAAS,eAAiB,KAC7EC,YAAavD,EAAMkD,QAFrB,SAIE,sBAAKjD,UAAU,mBAAmBsD,YAAa,SAACC,GAASA,EAAIC,mBAA7D,UACE,oBAAIxD,UAAS,uBAAkBD,EAAM0D,YAAc,IAAnD,SAA0D1D,EAAM2D,QAChE,uBACE1D,UAAU,cACV+B,KAAMhC,EAAMgC,KACZ4B,SAAU5D,EAAM4D,SAHlB,UAKG5D,EAAM6D,SACP,wBACE5D,UAAU,qBACV4B,KAAK,SACLG,KAAK,OACL,aAAW,yDAJb,SAMGhC,EAAM8D,gBAGX,wBACE7D,UAAU,sBACV4B,KAAK,SACLG,KAAK,QACL,aAAW,6CACXrB,QAASX,EAAMkD,eCxClB,IAAMa,EAAkB,SAAC/D,GAC9B,IAAMgE,EAAiBlD,IAAMmD,SAS7B,OACE,cAACpB,EAAD,CACEc,MAAM,wFACN3B,KAAK,SACL4B,SAXJ,SAAsBJ,GACpBA,EAAIU,iBAEJlE,EAAMmE,eAAe,CACnB9B,OAAQ2B,EAAeI,QAAQC,SAQ/Bf,OAAQtD,EAAMsD,OACdJ,QAASlD,EAAMkD,QACfY,WAAY9D,EAAMsE,OAAS,kEAAkB,yDAN/C,SAQE,sBAAKrE,UAAU,yBAAf,UACE,uBACEsE,IAAKP,EACL/D,UAAU,yCACVuE,GAAG,cACHxC,KAAK,SACLH,KAAK,MACL4C,aAAa,GACbC,YAAY,uCACZC,UAAQ,IAEV,mBAAGH,GAAG,oBAAoBvE,UAAU,gBC9B/B2E,EAAgB,SAAC5E,GAC5B,MAAwBc,IAAM+D,SAAS,IAAvC,mBAAO7C,EAAP,KAAa8C,EAAb,KACA,EAAwBhE,IAAM+D,SAAS,IAAvC,mBAAO9C,EAAP,KAAagD,EAAb,KAEAjE,IAAMgC,WAAU,WACdgC,EAAQ,IACRC,EAAQ,MACP,CAAC/E,EAAMsD,SAkBV,OACE,eAACT,EAAD,CACEc,MAAM,gEACN3B,KAAK,OACLsB,OAAQtD,EAAMsD,OACdJ,QAASlD,EAAMkD,QACfU,SAdiB,SAACJ,GACpBA,EAAIU,iBACJlE,EAAMyC,WAAW,CACfT,OACAD,UAWA+B,WAAY9D,EAAMsE,OAAS,kEAAkB,6CAN/C,UAQE,sBAAKrE,UAAU,yBAAf,UACE,uBACE+E,SA3Ba,SAACxB,GACpBsB,EAAQtB,EAAIrD,OAAOkE,QA2BbpE,UAAU,wCACVuE,GAAG,aACHxC,KAAK,OACLH,KAAK,OACLwC,MAAOrC,GAAQ,GACf0C,YAAY,mDACZO,UAAU,IACVC,UAAU,KACVP,UAAQ,IAEV,mBAAGH,GAAG,mBAAmBvE,UAAU,aAErC,sBAAKA,UAAU,yBAAf,UACE,uBACE+E,SAtCa,SAACxB,GACpBuB,EAAQvB,EAAIrD,OAAOkE,QAsCbpE,UAAU,wCACVuE,GAAG,YACHxC,KAAK,OACLH,KAAK,MACLwC,MAAOtC,GAAQ,GACf2C,YAAY,qGACZC,UAAQ,IAEV,mBAAGH,GAAG,kBAAkBvE,UAAU,iBC3D7BkF,EAAmB,SAACnF,GAC/B,MAAwBc,IAAM+D,SAAS,IAAvC,mBAAO7C,EAAP,KAAa8C,EAAb,KACA,EAAwBhE,IAAM+D,SAAS,IAAvC,mBAAOO,EAAP,KAAaC,EAAb,KACMpE,EAAcH,IAAMI,WAAWL,GAErCC,IAAMgC,WAAU,WACdgC,EAAQ7D,EAAYe,MACpBqD,EAAQpE,EAAYuB,SACnB,CAACvB,EAAajB,EAAMsD,SAkBvB,OACE,eAACT,EAAD,CACEc,MAAM,4HACN3B,KAAK,UACL4B,SApBiB,SAACJ,GACpBA,EAAIU,iBACJlE,EAAMsF,aAAa,CACjBtD,KAAMA,EACNQ,MAAO4C,KAiBP9B,OAAQtD,EAAMsD,OACdJ,QAASlD,EAAMkD,QACfY,WAAY9D,EAAMsE,OAAS,kEAAkB,yDAN/C,UAQE,sBAAKrE,UAAU,yBAAf,UACE,uBACEA,UAAU,uCACV+B,KAAK,OACLwC,GAAG,eACH3C,KAAK,OACLwC,MAAOrC,GAAQ,GACf0C,YAAY,qBACZO,UAAU,IACVC,UAAU,KACVP,UAAQ,EACRK,SA5Ba,SAACxB,GACpBsB,EAAQtB,EAAIrD,OAAOkE,UA6Bf,mBAAGG,GAAG,qBAAqBvE,UAAU,aAEvC,sBAAKA,UAAU,yBAAf,UACE,uBACEA,UAAU,sCACV+B,KAAK,OACLwC,GAAG,cACH3C,KAAK,OACLwC,MAAOe,GAAQ,GACfV,YAAY,yDACZO,UAAU,IACVC,UAAU,MACVP,UAAQ,EACRK,SAvCa,SAACxB,GACpB6B,EAAQ7B,EAAIrD,OAAOkE,UAwCf,mBAAGG,GAAG,oBAAoBvE,UAAU,iBClErC,SAASsF,EAAWvF,GAgBzB,OAdAc,IAAMgC,WAAU,WACd,IAAMC,EAAY,SAACC,GACM,KAAlBA,EAAMC,SACTjD,EAAMkD,WAKV,OAFAC,OAAOC,iBAAiB,UAAWL,GAE5B,WACLI,OAAOE,oBAAoB,UAAWN,MAEvC,IAID,qBACE9C,UAAS,iCAA4BD,EAAMoB,KAAO,eAAiB,KACnEmC,YAAavD,EAAMkD,QAFrB,SAIE,yBAAQjD,UAAU,yBAAyBsD,YAAa,SAACC,GAASA,EAAIC,mBAAtE,UACE,qBACErD,IAAKJ,EAAMoB,MAAQpB,EAAMoB,KAAKW,KAC9BzB,IAAKN,EAAMoB,MAAQpB,EAAMoB,KAAKY,KAC9B/B,UAAU,iBAEZ,wBACEA,UAAU,gDACV4B,KAAK,SACLG,KAAK,QACL,aAAW,6CACXrB,QAASX,EAAMkD,UAEjB,4BAAYjD,UAAU,qBAAtB,SACGD,EAAMoB,MAAQpB,EAAMoB,KAAKY,YClC7B,IAAMwD,EAAkB,SAACxF,GAO9B,OACE,cAAC6C,EAAD,CACEb,KAAK,SACLsB,OAAQtD,EAAMoB,KACd0C,WAAY9D,EAAMsE,OAAS,mDAAa,eACxCV,SAViB,SAACJ,GACpBA,EAAIU,iBACJlE,EAAMW,QAAQX,EAAMoB,OASlB8B,QAASlD,EAAMkD,QACfS,MAAM,2DACND,WAAW,+B,gBCkEJ+B,EAAM,I,WAlFjB,WAAYC,GAAQ,oBAClBC,KAAKC,SAAWF,EAAOG,QACvBF,KAAKG,SAAWJ,EAAOK,Q,mDAGzB,SAAgBC,GACd,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,+CAAyBJ,EAAIK,W,6BAGtC,WACE,OAAOC,MAAM,GAAD,OAAIX,KAAKC,SAAT,UAA2B,CACrCW,OAAQ,MACRR,QAASJ,KAAKG,WAEfU,KAAKb,KAAKc,mB,yBAGb,WACE,OAAOH,MAAM,GAAD,OAAIX,KAAKC,SAAT,aAA8B,CACxCW,OAAQ,MACRR,QAASJ,KAAKG,WAEfU,KAAKb,KAAKc,mB,yBAGb,SAAaC,GACX,OAAOJ,MAAM,GAAD,OAAIX,KAAKC,SAAT,aAA8B,CACxCW,OAAQ,QACRR,QAASJ,KAAKG,SACda,KAAMC,KAAKC,UAAU,CACnB7E,KAAM0E,EAAK1E,KACXQ,MAAOkE,EAAKlE,UAGfgE,KAAKb,KAAKc,mB,sBAGb,SAAUC,GACR,OAAOJ,MAAM,GAAD,OAAIX,KAAKC,SAAT,UAA2B,CACrCW,OAAQ,OACRR,QAASJ,KAAKG,SACda,KAAMC,KAAKC,UAAU,CACnB7E,KAAM0E,EAAK1E,KACXD,KAAM2E,EAAK3E,SAGdyE,KAAKb,KAAKc,mB,uBAGb,SAAWC,GACT,OAAOJ,MAAM,GAAD,OAAIX,KAAKC,SAAT,oBAAqC,CAC/CW,OAAQ,QACRR,QAASJ,KAAKG,SACda,KAAMC,KAAKC,UAAU,CACnBxE,OAAQqE,EAAKrE,WAGhBmE,KAAKb,KAAKc,mB,wBAGb,SAAYK,GACV,OAAOR,MAAM,GAAD,OAAIX,KAAKC,SAAT,kBAA2BkB,GAAU,CAC/CP,OAAQ,SACRR,QAASJ,KAAKG,WAEfU,KAAKb,KAAKc,mB,4BAGb,SAAgBK,EAAQtF,GACtB,OAAO8E,MAAM,GAAD,OAAIX,KAAKC,SAAT,wBAAiCkB,GAAU,CACrDP,OAAQ/E,EAAU,MAAQ,SAC1BuE,QAASJ,KAAKG,WAEbU,KAAKb,KAAKc,qB,KAME,CAAQ,CACzBZ,QAAS,8CACTE,QAAS,CACP,eAAgB,mBAChBgB,cAAe,0CCrFNC,EAAQ,SAAC,GAAgB,IAAfpD,EAAc,EAAdA,SAErB,EAA0B9C,IAAM+D,SAAS,IAAzC,mBAAOoC,EAAP,KAAcC,EAAd,KACA,EAAgCpG,IAAM+D,SAAS,IAA/C,mBAAOsC,EAAP,KAAiBC,EAAjB,KAeA,OACE,yBAASnH,UAAU,SAAnB,SACE,uBAAM2D,SAPW,SAACJ,GACpBA,EAAIU,iBACJN,EAASqD,EAAOE,IAKgBlH,UAAU,eAAxC,UACE,oBAAIA,UAAU,gBAAd,sCACA,sBAAKA,UAAU,oBAAf,UACE,uBACEuE,GAAG,WACH3C,KAAK,QACLG,KAAK,QACL/B,UAAU,gBACVyE,YAAY,QACZL,MAAO4C,GAAS,GAChBjC,SAzBU,SAACxB,GACnB0D,EAAS1D,EAAIrD,OAAOkE,QAyBZM,UAAQ,IAEV,sBAAM1E,UAAU,2BAElB,sBAAKA,UAAU,kDAAf,UACE,uBACEuE,GAAG,UACH3C,KAAK,WACLG,KAAK,WACL/B,UAAU,gBACVyE,YAAY,uCACZL,MAAO8C,GAAY,GACnBnC,SAlCa,SAACxB,GACtB4D,EAAY5D,EAAIrD,OAAOkE,QAkCfM,UAAQ,IAEV,sBAAM1E,UAAU,2BAGlB,wBAAQA,UAAU,wBAAwB4B,KAAK,SAA/C,kDChDKwF,EAAW,SAAC,GAAgB,IAAfzD,EAAc,EAAdA,SAExB,EAA0B9C,IAAM+D,SAAS,IAAzC,mBAAOoC,EAAP,KAAcC,EAAd,KACA,EAAgCpG,IAAM+D,SAAS,IAA/C,mBAAOsC,EAAP,KAAiBC,EAAjB,KAeA,OACE,0BAASnH,UAAU,SAAnB,UACE,uBAAM2D,SAPW,SAACJ,GACpBA,EAAIU,iBACJN,EAASqD,EAAME,IAKiBlH,UAAU,eAAxC,UACE,oBAAIA,UAAU,gBAAd,gFACA,sBAAKA,UAAU,oBAAf,UACE,uBACEuE,GAAG,UACH3C,KAAK,QACLG,KAAK,QACL/B,UAAU,gBACVyE,YAAY,QACZL,MAAO4C,EACPjC,SAzBU,SAACxB,GACnB0D,EAAS1D,EAAIrD,OAAOkE,QAyBZM,UAAQ,IAEV,sBAAM1E,UAAU,2BAElB,sBAAKA,UAAU,kDAAf,UACE,uBACEuE,GAAG,UACH3C,KAAK,WACLG,KAAK,WACL/B,UAAU,gBACVyE,YAAY,uCACZL,MAAO8C,EACPnC,SAlCa,SAACxB,GACtB4D,EAAY5D,EAAIrD,OAAOkE,QAkCfM,UAAQ,IAEV,sBAAM1E,UAAU,2BAGlB,wBAAQA,UAAU,wBAAwB4B,KAAK,SAA/C,6HAKF,cAAC,IAAD,CAAMnB,GAAG,UAAUT,UAAU,qBAA7B,SACE,mBAAGA,UAAU,iBAAb,uK,gCCvDKqH,EAAiB,SAAC,GAAyC,IAA5BC,EAA2B,EAAtCC,UAAyBxH,EAAa,iBACrE,OACE,cAAC,IAAD,UAEI,kBAAMA,EAAMyH,SAAW,cAACF,EAAD,eAAevH,IAAY,cAAC,IAAD,CAAUU,GAAG,kBC4C1DgH,EAAO,I,WAlDlB,WAAYhC,GAAS,IAAD,gCAYpBiC,aAAe,SAAEV,EAAOE,GACtB,OAAOb,MAAM,GAAD,OAAI,EAAKV,SAAT,WAA4B,CACtCW,OAAQ,OACRR,QAAS,EAAKD,SACda,KAAMC,KAAKC,UAAU,CAAEI,QAAOE,eAE/BX,KAAK,EAAKC,kBAlBO,KAqBpBM,cAAgB,SAACE,EAAOE,GACtB,OAAOb,MAAM,GAAD,OAAI,EAAKV,SAAT,WAA4B,CACtCW,OAAQ,OACRR,QAAS,EAAKD,SACda,KAAMC,KAAKC,UAAU,CAAEI,QAAOE,eAE/BX,KAAK,EAAKC,iBACVD,MAAK,SAACE,GACL,GAAIA,EAAKkB,MAGP,OAFAC,QAAQC,IAAIpB,EAAKkB,OACjBG,aAAaC,QAAQ,MAAOtB,EAAKkB,OAC1BlB,MAhCO,KAqCpBuB,SAAW,SAACL,GACV,OAAOtB,MAAM,GAAD,OAAI,EAAKV,SAAT,aAA8B,CACxCW,OAAQ,MACRR,QAAS,CACP,OAAU,mBACV,eAAgB,mBAChB,cAAgB,UAAhB,OAA2B6B,MAG9BpB,KAAK,EAAKC,kBA7CXd,KAAKC,SAAWF,EAAOG,QACvBF,KAAKG,SAAWJ,EAAOK,Q,mDAGzB,SAAgBC,GACd,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,+CAAyBJ,EAAIK,a,KAyCpB,CAAS,CAC3BR,QAAS,gCACTE,QAAS,CACP,OAAU,mBACV,eAAgB,sBCrDPmC,EAAc,SAAClI,GAe1B,OAbAc,IAAMgC,WAAU,WACd,IAAMC,EAAY,SAACC,GACM,KAAlBA,EAAMC,SACTjD,EAAMkD,WAKV,OAFAC,OAAOC,iBAAiB,UAAWL,GAE5B,WACLI,OAAOE,oBAAoB,UAAWN,MAEvC,IAGD,qBAAK9C,UAAS,gBAAYD,EAAMsD,OAAS,eAAiB,KAASC,YAAavD,EAAMkD,QAAtF,SACE,sBAAKjD,UAAU,mBAAmBsD,YAAa,SAACC,GAASA,EAAIC,mBAA7D,UACE,wBACAxD,UAAU,sBACV4B,KAAK,SACLG,KAAK,QACL,aAAW,6CACXrB,QAASX,EAAMkD,UAEf,qBAAKjD,UAAS,+BAA2BD,EAAMyH,SAAW,iCAAkC,mCAC5F,oBAAIxH,UAAU,0CAAd,SAAyDD,EAAMyH,SAAW,wKAAmC,8MC1BxGU,EAAS,SAACnI,GACrB,OACE,qBAAKC,UAAS,iBAAYD,EAAMoI,UAAY,qBAAuB,GAArD,KAAd,SACE,qBAAKnI,UAAU,kBAAf,2BCeC,SAASoI,IACd,MAAsCvH,IAAM+D,SAAS,IAArD,mBAAO5D,EAAP,KAAoBqH,EAApB,KACA,EAA0BxH,IAAM+D,SAAS,IAAzC,mBAAOnC,EAAP,KAAc6F,EAAd,KACA,EAAwDzH,IAAM+D,UAAS,GAAvE,mBAAO2D,EAAP,KAA8BC,EAA9B,KACA,EAA0D3H,IAAM+D,UAAS,GAAzE,mBAAO6D,EAAP,KAA+BC,EAA/B,KACA,EAAoD7H,IAAM+D,UAAS,GAAnE,mBAAO+D,EAAP,KAA4BC,EAA5B,KACA,EAAwC/H,IAAM+D,SAAS,MAAvD,mBAAOiE,EAAP,KAAqBC,EAArB,KACA,EAA4BjI,IAAM+D,UAAS,GAA3C,mBAAOP,EAAP,KAAe0E,EAAf,KACA,EAAwClI,IAAM+D,SAAS,MAAvD,mBAAOoE,EAAP,KAAqBC,EAArB,KACA,EAA4DpI,IAAM+D,UAAS,GAA3E,oBAAOsE,GAAP,MAA+BC,GAA/B,MACA,GAAgCtI,IAAM+D,UAAS,GAA/C,qBAAO4C,GAAP,MAAiB4B,GAAjB,MACA,GAAkCvI,IAAM+D,SAAS,MAAjD,qBAAOpE,GAAP,MAAkB6I,GAAlB,MACA,GAAkCxI,IAAM+D,UAAS,GAAjD,qBAAOuD,GAAP,MAAkBmB,GAAlB,MACMC,GAAUC,cAGhB3I,IAAMgC,WAAU,WACdyG,IAAa,GACb9D,EACGiE,kBACAlD,MAAK,SAACR,GACLuC,EAASvC,MAEV2D,OAAM,SAACC,GACN/B,QAAQgC,MAAMD,MAEfE,SAAQ,WACPP,IAAa,MAEjB9D,EACGsE,cACAvD,MAAK,SAACR,GACLsC,EAAetC,MAEhB2D,OAAM,SAACC,GACN/B,QAAQgC,MAAMD,QAEjB,IAEH9I,IAAMgC,WAAU,WAEd,GADAyG,IAAa,GACTxB,aAAaiC,QAAQ,OAAQ,CAC/B,IAAMC,EAAMlC,aAAaiC,QAAQ,OACjCnC,QAAQC,IAAImC,GACZvC,EAAKO,SAASgC,GACbzD,MAAK,SAACR,GACDA,IACFsD,GAAatD,EAAIU,KAAKO,OACtBiD,IAAY,GACZV,GAAQW,KAAK,SAGhBR,OAAM,SAACC,GACNM,IAAY,GACO,MAAfN,EAAIvD,OAIW,MAAfuD,EAAIvD,OAIRwB,QAAQgC,MAAMD,GAHZ/B,QAAQC,IAAI,6KAJZD,QAAQC,IAAI,2PAUjB,CAAC0B,KAEJ,IA8DMU,GAAc,WAClBb,IAAY,IASRe,GAAoB,WACxBhB,IAA0B,IA2BtBiB,GAAiB,WACrB1B,GAAwB,GACxBF,GAAuB,GACvBI,GAAqB,GACrBE,EAAgB,MAChBG,EAAgB,MAChBF,GAAU,GACVI,IAA0B,IA6D5B,OACE,cAACvI,EAAmByJ,SAApB,CAA6BjG,MAAOpD,EAApC,SACE,sBAAKhB,UAAU,OAAf,UACE,cAACF,EAAD,CAAQU,UAAWA,GAAWG,aAzGf,WACnByI,IAAY,GACZtB,aAAawC,WAAW,OACxBjB,GAAa,SAuGT,eAAC,IAAD,WACE,cAAC,EAAD,CACE/I,OAAK,EACLC,KAAK,IACLgH,UAAWpF,EACXqF,SAAUA,GACVnF,aAlGoB,WAC5B0G,GAAU,GACVP,GAAuB,IAiGflG,cA9FqB,WAC7ByG,GAAU,GACVL,GAAwB,IA6FhBlG,WA1FkB,WAC1BuG,GAAU,GACVH,GAAqB,IAyFb5G,YAzGc,SAACb,GACvB2H,EAAgB3H,IAyGRc,WAtLa,SAACd,GACtB,IAAMI,EAAUJ,EAAKK,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQL,EAAYK,OAC7DmE,EACG+E,eAAepJ,EAAKE,KAAME,GAC1BgF,MAAK,SAACiE,GACLlC,GAAS,SAACmC,GAAD,OACPA,EAAM/H,KAAI,SAACgI,GAAD,OAAQA,EAAErJ,MAAQF,EAAKE,IAAMmJ,EAAUE,WAGpDhB,OAAM,SAACC,GACN/B,QAAQgC,MAAMD,OA6KV9H,aAxFoB,SAACV,GAC7B4H,GAAU,GACVE,EAAgB9H,IAuFRsB,MAAOA,IAGT,cAAC,IAAD,CAAOlC,KAAK,WAAZ,SACE,cAAC,EAAD,CACEoD,SA5CgB,SAACqD,EAAOE,GAClCO,EACGX,cAAcE,EAAOE,GACrBX,MAAK,SAACR,GACDA,IACFsD,GAAarC,GACbiD,IAAY,GACZV,GAAQW,KAAK,SAGhBR,OAAM,SAACC,GACY,MAAfA,EAAIvD,OAIY,MAAfuD,EAAIvD,OAIRwB,QAAQgC,MAAMD,GAHZ/B,QAAQC,IAAI,iJAJZD,QAAQC,IAAI,gJAiCRoC,YAAaA,GACbE,kBAAmBA,OAIvB,cAAC,IAAD,CAAO5J,KAAK,WAAZ,SACE,cAAC,EAAD,CAAUoD,SAtEO,SAACqD,EAAOE,GACjCO,EACGC,aAAaV,EAAOE,GACpBX,MAAK,SAACR,GACLoE,KACIpE,GACFwD,GAAQW,KAAK,eAGhBR,OAAM,SAACC,GACNQ,KACkB,MAAfR,EAAIvD,OAIPwB,QAAQgC,MAAMD,GAHZ/B,QAAQC,IAAI,8IA6DZ,cAAC,IAAD,UACGL,GAAW,cAAC,IAAD,CAAU/G,GAAG,MAAS,cAAC,IAAD,CAAUA,GAAG,kBAGnD,cAACkC,EAAD,IACA,cAAC,EAAD,CAAQwF,UAAWA,KACnB,cAAC,EAAD,CACE9E,OAAQoF,EACRxF,QAASmH,GACT/E,aAlKiB,SAACoB,GACxBsC,GAAU,GACVvD,EACGmF,YAAYlE,GACZF,MAAK,SAACR,GACLsC,EAAetC,GACfqE,QAEDV,OAAM,SAACC,GACN/B,QAAQgC,MAAMD,MAEfE,SAAQ,WACPd,GAAU,OAuJR1E,OAAQA,IAEV,cAAC,EAAD,CACEhB,OAAQkF,EACRtF,QAASmH,GACTlG,eAxLmB,SAACuC,GAC1BsC,GAAU,GACVvD,EACGoF,UAAUnE,GACVF,MAAK,SAACR,GACLsC,EAAetC,GACfqE,QAEDV,OAAM,SAACC,GACN/B,QAAQgC,MAAMD,MAEfE,SAAQ,WACPd,GAAU,OA6KR1E,OAAQA,IAEV,cAAC,EAAD,CACEhB,OAAQsF,EACR1F,QAASmH,GACT5H,WA9GqB,SAACgI,GAC5BzB,GAAU,GACVvD,EACGqF,SAASL,GACTjE,MAAK,SAACR,GACLuC,EAAS,CAACvC,GAAF,mBAAUtD,KAClB2H,QAEDV,OAAM,SAACC,GACN/B,QAAQgC,MAAMD,MAEfE,SAAQ,WACPd,GAAU,OAmGR1E,OAAQA,IAEV,cAACiB,EAAD,CAAYnE,KAAM0H,EAAc5F,QAASmH,KACzC,cAAC,EAAD,CACEjJ,KAAM6H,EACN/F,QAASmH,GACT1J,QArNiB,SAACS,GACxB4H,GAAU,GACVvD,EACGsF,WAAW3J,EAAKE,KAChBkF,MAAK,WACJ+B,EAAS7F,EAAMsI,QAAO,SAACL,GAAD,OAAOA,EAAErJ,MAAQF,EAAKE,QAC5C4H,EAAgB,SAEjBS,OAAM,SAACC,GACN/B,QAAQgC,MAAMD,MAEfE,SAAQ,WACPd,GAAU,OA0MR1E,OAAQA,IAEV,cAAC,EAAD,CACEmD,SAAUA,GACVnE,OAAQ6F,GACRjG,QAASmH,UChUnB,IAYeY,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB3E,MAAK,YAAkD,IAA/C4E,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAACtD,EAAD,QAGJuD,SAASC,eAAe,SAE1BZ,M","file":"static/js/main.fbe7d3be.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import logo from \"../images/logo.svg\";\r\nimport { Route, Switch, Link } from \"react-router-dom\";\r\n\r\nexport function Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <a href=\"/index.html\" className=\"header__link\" target=\"_blank\">\r\n        <img className=\"header__logo\" src={logo} alt=\"Логотип\" />\r\n      </a>\r\n\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <div className=\"header__box-access\">\r\n            <p className=\"header__mail\">{props.userEmail}</p>\r\n            <Link\r\n              to=\"/sign-in\"\r\n              onClick={props.handleLogOut}\r\n              className=\"header__link header__link_type_access\"\r\n            >\r\n              Выйти\r\n            </Link>\r\n          </div>\r\n        </Route>\r\n\r\n        <Route path=\"/sign-in\">\r\n          <Link to=\"/sign-up\" className=\"header__link\">\r\n            Регистрация\r\n          </Link>\r\n        </Route>\r\n\r\n        <Route path=\"/sign-up\">\r\n          <Link to=\"/sign-in\" className=\"header__link\">\r\n            Войти\r\n          </Link>\r\n        </Route>\r\n      </Switch>\r\n    </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport function Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `elements__button-delete ${\r\n    isOwn\r\n      ? \"elements__delete-button_type_visible\"\r\n      : \"elements__delete-button_type_hidden\"\r\n  }`;\r\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `elements__button-like ${\r\n    isLiked ? \"elements__button-like_active\" : \" \"\r\n  }`;\r\n\r\n  const handleLikeClick = () => {\r\n    props.onCardLike(props.card);\r\n  };\r\n  const handleClick = () => {\r\n    props.onCardClick(props.card);\r\n  };\r\n  const handleDeleteClick = () => {\r\n    props.onCardDelete(props.card);\r\n  };\r\n\r\n  return (\r\n    <div className=\"template\">\r\n      <div className=\"elements__card\">\r\n        <button\r\n          type=\"button\"\r\n          className={cardDeleteButtonClassName}\r\n          onClick={handleDeleteClick}\r\n        ></button>\r\n        <img\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n          className=\"elements__image\"\r\n          onClick={handleClick}\r\n        />\r\n        <div className=\"elements__information\">\r\n          <h2 className=\"elements__title\">{props.card.name}</h2>\r\n          <div className=\"elements__container-like\">\r\n            <button\r\n              onClick={handleLikeClick}\r\n              className={cardLikeButtonClassName}\r\n              type=\"button\"\r\n              name=\"Like\"\r\n              aria-label=\"Like\"\r\n            ></button>\r\n            <p className=\"elements__quantity\">{props.card.likes.length}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Card } from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nexport function Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const onEditAvatar = () => {\r\n    props.onEditAvatar(props.onClick);\r\n  };\r\n  const onEditProfile = () => {\r\n    props.onEditProfile(props.onClick);\r\n  };\r\n  const onAddPlace = () => {\r\n    props.onAddPlace(props.onClick);\r\n  };\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__item\">\r\n          <div className=\"profile__section\">\r\n            <img\r\n              className=\"profile__avatar\"\r\n              src={currentUser.avatar}\r\n              alt=\"Фото профиля\"\r\n            />\r\n            <div className=\"profile__avatar-edit\" onClick={onEditAvatar}></div>\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__info-title\">{currentUser.name}</h1>\r\n            <button\r\n              className=\"profile__button-edit\"\r\n              type=\"button\"\r\n              name=\"Edit\"\r\n              aria-label=\"Редактировать\"\r\n              onClick={onEditProfile}\r\n            ></button>\r\n            <p className=\"profile__info-subtitle\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"profile__item\">\r\n          <button\r\n            className=\"profile__button-add\"\r\n            type=\"button\"\r\n            name=\"Add\"\r\n            aria-label=\"Добавить\"\r\n            onClick={onAddPlace}\r\n          ></button>\r\n        </div>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <div className=\"elements__item\">\r\n          {props.cards.map((card) => (\r\n            <Card\r\n              card={card}\r\n              key={card._id}\r\n              onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />\r\n          ))}\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","export function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n","import React from \"react\";\r\nexport function PopupWithForm(props) {\r\n\r\n  React.useEffect(() => {\r\n    const handleEsc = (event) => {\r\n       if (event.keyCode === 27) {\r\n        props.onClose()\r\n      }\r\n    };\r\n    window.addEventListener('keydown', handleEsc);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleEsc);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_type_${props.name} ${props.isOpen ? \"popup_opened\" : \" \"}`}\r\n      onMouseDown={props.onClose}\r\n    >\r\n      <div className=\"popup__container\" onMouseDown={(evt) => {evt.stopPropagation()}}>\r\n        <h3 className={`popup__title ${props.titleTheme || \"\"}`}>{props.title}</h3>\r\n        <form\r\n          className=\"popup__form\"\r\n          name={props.name}\r\n          onSubmit={props.onSubmit}\r\n        >\r\n          {props.children}\r\n          <button\r\n            className=\"popup__button-save\"\r\n            type=\"submit\"\r\n            name=\"Save\"\r\n            aria-label=\"Сохранить\"\r\n          >\r\n            {props.buttonText}\r\n          </button>\r\n        </form>\r\n        <button\r\n          className=\"popup__button-close\"\r\n          type=\"button\"\r\n          name=\"Close\"\r\n          aria-label=\"Закрыть\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { PopupWithForm } from \"./PopupWithForm\";\r\n\r\nexport const EditAvatarPopup = (props) => {\r\n  const avatarRefInput = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRefInput.current.value,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"avatar\"\r\n      onSubmit={handleSubmit}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      buttonText={props.isLoad ? \"Сохранение...\" : \"Сохранить\"}\r\n    >\r\n      <div className=\"popup__input-container\">\r\n        <input\r\n          ref={avatarRefInput}\r\n          className=\"popup__input popup__input_value_avatar\"\r\n          id=\"avatar-card\"\r\n          name=\"avatar\"\r\n          type=\"url\"\r\n          defaultValue=\"\"\r\n          placeholder=\"Ссылка\"\r\n          required\r\n        />\r\n        <p id=\"avatar-card-error\" className=\"error\"></p>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { PopupWithForm } from \"./PopupWithForm\";\r\n\r\nexport const AddPlacePopup = (props) => {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setName(\"\");\r\n    setLink(\"\");\r\n  }, [props.isOpen]);\r\n\r\n  const onChangeName = (evt) => {\r\n    setName(evt.target.value);\r\n  };\r\n\r\n  const onChangeLink = (evt) => {\r\n    setLink(evt.target.value);\r\n  };\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    props.onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"card\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText={props.isLoad ? \"Сохранение...\" : \"Создать\"}\r\n    >\r\n      <div className=\"popup__input-container\">\r\n        <input\r\n          onChange={onChangeName}\r\n          className=\"popup__input popup__input_value_title\"\r\n          id=\"title-card\"\r\n          name=\"name\"\r\n          type=\"text\"\r\n          value={name || \"\"}\r\n          placeholder=\"Название\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          required\r\n        />\r\n        <p id=\"title-card-error\" className=\"error\"></p>\r\n      </div>\r\n      <div className=\"popup__input-container\">\r\n        <input\r\n          onChange={onChangeLink}\r\n          className=\"popup__input popup__input_value_image\"\r\n          id=\"link-card\"\r\n          name=\"link\"\r\n          type=\"url\"\r\n          value={link || \"\"}\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n        />\r\n        <p id=\"link-card-error\" className=\"error\"></p>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { PopupWithForm } from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport const EditProfilePopup = (props) => {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [info, setInfo] = React.useState(\"\");\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setInfo(currentUser.about);\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: info,\r\n    });\r\n  };\r\n\r\n  const onChangeName = (evt) => {\r\n    setName(evt.target.value);\r\n  };\r\n\r\n  const onChangeInfo = (evt) => {\r\n    setInfo(evt.target.value);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"profile\"\r\n      onSubmit={handleSubmit}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      buttonText={props.isLoad ? \"Сохранение...\" : \"Сохранить\"}\r\n    >\r\n      <div className=\"popup__input-container\">\r\n        <input\r\n          className=\"popup__input popup__input_value_name\"\r\n          name=\"name\"\r\n          id=\"name-profile\"\r\n          type=\"text\"\r\n          value={name || \"\"}\r\n          placeholder=\"Имя\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          required\r\n          onChange={onChangeName}\r\n        />\r\n        <p id=\"name-profile-error\" className=\"error\"></p>\r\n      </div>\r\n      <div className=\"popup__input-container\">\r\n        <input\r\n          className=\"popup__input popup__input_value_job\"\r\n          name=\"info\"\r\n          id=\"job-profile\"\r\n          type=\"text\"\r\n          value={info || \"\"}\r\n          placeholder=\"Профессия\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          required\r\n          onChange={onChangeInfo}\r\n        />\r\n        <p id=\"job-profile-error\" className=\"error\"></p>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n","import React from \"react\";\r\nexport function ImagePopup(props) {\r\n\r\n  React.useEffect(() => {\r\n    const handleEsc = (event) => {\r\n       if (event.keyCode === 27) {\r\n        props.onClose()\r\n      }\r\n    };\r\n    window.addEventListener('keydown', handleEsc);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleEsc);\r\n    };\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_type_image ${props.card ? \"popup_opened\" : \" \"}`}\r\n      onMouseDown={props.onClose}\r\n    >\r\n      <figure className=\"popup__container-image\" onMouseDown={(evt) => {evt.stopPropagation()}}>\r\n        <img\r\n          src={props.card && props.card.link}\r\n          alt={props.card && props.card.name}\r\n          className=\"popup__image\"\r\n        />\r\n        <button\r\n          className=\"popup__button-close popup__button-close_image\"\r\n          type=\"button\"\r\n          name=\"Close\"\r\n          aria-label=\"Закрыть\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <figcaption className=\"popup__description\">\r\n          {props.card && props.card.name}\r\n        </figcaption>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { PopupWithForm } from \"./PopupWithForm\";\r\nexport const DeleteCardPopup = (props) => {\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    props.onClick(props.card);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"delete\"\r\n      isOpen={props.card}\r\n      buttonText={props.isLoad ? \"Удаление\" : \"Да\"}\r\n      onSubmit={handleSubmit}\r\n      onClose={props.onClose}\r\n      title=\"Вы уверены?\"\r\n      titleTheme=\"popup__title_theme_delete\"\r\n    >\r\n    </PopupWithForm>\r\n  );\r\n};\r\n","class Api {\r\n  constructor(config){\r\n    this._baseUrl = config.baseUrl;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n  _handleResponce(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'GET',\r\n      headers: this._headers,  \r\n    })\r\n    .then(this._handleResponce);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    })\r\n    .then(this._handleResponce);\r\n  }\r\n\r\n  setUserInfo( data ) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      })\r\n    })\r\n    .then(this._handleResponce);\r\n  }\r\n\r\n  postCard( data ) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      })\r\n    })\r\n    .then(this._handleResponce);\r\n  }\r\n  \r\n  setAvatar( data ) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n      })\r\n    })\r\n    .then(this._handleResponce);\r\n  }\r\n\r\n  deleteCard( cardId ) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n    .then(this._handleResponce);\r\n  }\r\n\r\n  toggleLikeCard( cardId, isLiked ) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: isLiked ? 'PUT' : 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n      .then(this._handleResponce);\r\n  }\r\n  \r\n\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-26\",\r\n  headers: {\r\n    \"content-type\": \"application/json\",\r\n    authorization: \"6a8d306b-88c2-4559-b9fb-ed6535e42e98\",\r\n  },\r\n});\r\n","import React from \"react\";\r\n\r\nexport const Login = ({onSubmit}) => {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  const handleEmail = (evt) => {\r\n    setEmail(evt.target.value);\r\n  }\r\n\r\n  const handlePassword = (evt) => {\r\n    setPassword(evt.target.value);\r\n  }\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault()\r\n    onSubmit(email, password)\r\n}\r\n\r\n  return (\r\n    <section className=\"access\">\r\n      <form onSubmit={handleSubmit} className=\"access__form\">\r\n        <h1 className=\"access__title\">Вход</h1>\r\n        <div className=\"access__box-input\">\r\n          <input\r\n            id=\"mail-log\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            className=\"access__input\"\r\n            placeholder=\"Email\"\r\n            value={email || \"\"}\r\n            onChange={handleEmail}\r\n            required\r\n          />\r\n          <span className=\"access__input-error\"></span>\r\n        </div>\r\n        <div className=\"access__box-input access__box-input_type_margin\">\r\n          <input\r\n            id=\"pas-log\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            className=\"access__input\"\r\n            placeholder=\"Пароль\"\r\n            value={password || \"\"}\r\n            onChange={handlePassword}\r\n            required\r\n          />\r\n          <span className=\"access__input-error\"></span>\r\n        </div>\r\n        \r\n        <button className=\"access__button-submit\" type=\"submit\">\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const Register = ({onSubmit}) => {\r\n\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  const handleEmail = (evt) => {\r\n    setEmail(evt.target.value);\r\n  };\r\n\r\n  const handlePassword = (evt) => {\r\n    setPassword(evt.target.value);\r\n  };\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    onSubmit(email,password)\r\n  };\r\n\r\n  return (\r\n    <section className=\"access\">\r\n      <form onSubmit={handleSubmit} className=\"access__form\">\r\n        <h1 className=\"access__title\">Регистрация</h1>\r\n        <div className=\"access__box-input\">\r\n          <input\r\n            id=\"mal-reg\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            className=\"access__input\"\r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange={handleEmail}\r\n            required\r\n          />\r\n          <span className=\"access__input-error\"></span>\r\n        </div>\r\n        <div className=\"access__box-input access__box-input_type_margin\">\r\n          <input\r\n            id=\"pas-reg\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            className=\"access__input\"\r\n            placeholder=\"Пароль\"\r\n            value={password}\r\n            onChange={handlePassword}\r\n            required\r\n          />\r\n          <span className=\"access__input-error\"></span>\r\n        </div>\r\n\r\n        <button className=\"access__button-submit\" type=\"submit\">\r\n          Зарегистрироваться\r\n        </button>\r\n      </form>\r\n\r\n      <Link to=\"sign-in\" className=\"access__login-link\">\r\n        <p className=\"access__option\">Уже зарегистрированы? Войти</p>\r\n      </Link>\r\n    </section>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport const ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\n","class Auth {\r\n  constructor(config) {\r\n    this._baseUrl = config.baseUrl; \r\n    this._headers = config.headers;\r\n  }\r\n\r\n  _handleResponce(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n  registration = ( email, password ) => {\r\n    return fetch(`${this._baseUrl}/signup`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({ email, password })\r\n    })\r\n    .then(this._handleResponce)\r\n  }; \r\n\r\n  authorization = (email, password) => {\r\n    return fetch(`${this._baseUrl}/signin`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({ email, password })\r\n    })\r\n    .then(this._handleResponce)\r\n    .then((data) => {\r\n      if (data.token){\r\n        console.log(data.token);\r\n        localStorage.setItem('jwt', data.token);\r\n        return data;\r\n      }\r\n    })\r\n  };\r\n\r\n  getToken = (token) => {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n    .then(this._handleResponce)\r\n  }\r\n}\r\n\r\nexport const auth = new Auth({\r\n  baseUrl: \"https://auth.nomoreparties.co\",\r\n  headers: {\r\n    'Accept': 'application/json',\r\n    'Content-Type': 'application/json',\r\n  },\r\n})","import React from 'react';\r\n\r\nexport const InfoTooltip = (props) => {\r\n\r\n  React.useEffect(() => {\r\n    const handleEsc = (event) => {\r\n       if (event.keyCode === 27) {\r\n        props.onClose()\r\n      }\r\n    };\r\n    window.addEventListener('keydown', handleEsc);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleEsc);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className={`popup ${ props.isOpen ? \"popup_opened\" : \" \" }` } onMouseDown={props.onClose}>\r\n      <div className=\"popup__container\" onMouseDown={(evt) => {evt.stopPropagation()}}>\r\n        <button\r\n        className=\"popup__button-close\"\r\n        type=\"button\"\r\n        name=\"Close\"\r\n        aria-label=\"Закрыть\"\r\n        onClick={props.onClose}\r\n        ></button>\r\n        <div className={`popup__image-tooltip ${ props.loggedIn ? \"popup__image-tooltip_type_done\": \"popup__image-tooltip_type_not\" }`}></div>\r\n        <h1 className=\"popup__title popup__title_theme_tooltip\">{props.loggedIn ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}</h1>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport const Loader = (props) => {\r\n  return (\r\n    <div className={`loader ${props.isLoading ? 'loader_type_active' : ''} `}>\r\n      <div className=\"loader__spinner\">\r\n      Loading...\r\n    </div>\r\n  \r\n    </div>\r\n   ); \r\n}\r\n\r\n","import \"../index.css\";\r\nimport React from \"react\";\r\nimport { Header } from \"./Header\";\r\nimport { Main } from \"./Main\";\r\nimport { Footer } from \"./Footer\";\r\nimport { EditAvatarPopup } from \"./EditAvatarPopup\";\r\nimport { AddPlacePopup } from \"./AddPlacePopup\";\r\nimport { EditProfilePopup } from \"./EditProfilePopup\";\r\nimport { ImagePopup } from \"./ImagePopup\";\r\nimport { DeleteCardPopup } from \"./DeleteCardPopup\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport { api } from \"../utils/api\";\r\nimport { Login } from \"./Login\";\r\nimport { Register } from \"./Register\";\r\nimport { Route, Redirect, Switch, useHistory } from \"react-router-dom\";\r\nimport { ProtectedRoute } from \"./ProtectedRoute\";\r\nimport { auth } from \"../utils/auth\";\r\nimport { InfoTooltip } from \"./InfoTooltip\";\r\nimport { Loader } from \"./Loader\";\r\n\r\nexport function App() {\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [isLoad, setIsLoad] = React.useState(false);\r\n  const [cardToDelete, setCardToDelete] = React.useState(null);\r\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = React.useState(false);\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [userEmail, setUserEmail] = React.useState(null);\r\n  const [isLoading, setisLoading] = React.useState(false)\r\n  const history = useHistory();\r\n\r\n  //API\r\n  React.useEffect(() => {\r\n    setisLoading(true)\r\n    api\r\n      .getInitialCards()\r\n      .then((res) => {\r\n        setCards(res);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      })\r\n      .finally(() => {\r\n        setisLoading(false)\r\n      })\r\n    api\r\n      .getUserInfo()\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    setisLoading(true)\r\n    if (localStorage.getItem(\"jwt\")) {\r\n      const jwt = localStorage.getItem(\"jwt\");\r\n      console.log(jwt);\r\n      auth.getToken(jwt)\r\n      .then((res) => {\r\n        if (res) {\r\n          setUserEmail(res.data.email);\r\n          handleLogIn(true);\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        handleLogIn(false);\r\n        if (err.status === 400) {\r\n          console.log('400 — Токен не передан или передан не в том формате')\r\n          return\r\n        }\r\n        if (err.status === 401) {\r\n          console.log(\"401 — Переданный токен некорректен\")\r\n          return\r\n        }\r\n        console.error(err)\r\n      })\r\n    }\r\n  }, [history]);\r\n\r\n  const handleCardLike = (card) => {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api\r\n      .toggleLikeCard(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const handleCardDelete = (card) => {\r\n    setIsLoad(false);\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        setCards(cards.filter((c) => c._id !== card._id));\r\n        setCardToDelete(null);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      })\r\n      .finally(() => {\r\n        setIsLoad(true);\r\n      });\r\n  };\r\n\r\n  const handleUpdateAvatar = (data) => {\r\n    setIsLoad(true);\r\n    api\r\n      .setAvatar(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      })\r\n      .finally(() => {\r\n        setIsLoad(false);\r\n      });\r\n  };\r\n\r\n  const handleUpdateUser = (data) => {\r\n    setIsLoad(true);\r\n    api\r\n      .setUserInfo(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      })\r\n      .finally(() => {\r\n        setIsLoad(false);\r\n      });\r\n  };\r\n\r\n  const handleLogIn = () => {\r\n    setLoggedIn(true);\r\n  };\r\n\r\n  const handleLogOut = () => {\r\n    setLoggedIn(true);\r\n    localStorage.removeItem('jwt');\r\n    setUserEmail(null);\r\n  };\r\n\r\n  const handleTooltipOpen = () => {\r\n    setIsInfoTooltipPopupOpen(true);\r\n  };\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card);\r\n  };\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsLoad(false);\r\n    setEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsLoad(false);\r\n    setEditProfilePopupOpen(true);\r\n  };\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsLoad(false);\r\n    setAddPlacePopupOpen(true);\r\n  };\r\n\r\n  const handleDeleteCardClick = (card) => {\r\n    setIsLoad(false);\r\n    setCardToDelete(card);\r\n  };\r\n\r\n  const closeAllPopups = () => {\r\n    setEditProfilePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setSelectedCard(null);\r\n    setCardToDelete(null);\r\n    setIsLoad(false);\r\n    setIsInfoTooltipPopupOpen(false);\r\n  };\r\n\r\n  const handleAddPlaceSubmit = (newCard) => {\r\n    setIsLoad(true);\r\n    api\r\n      .postCard(newCard)\r\n      .then((res) => {\r\n        setCards([res, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      })\r\n      .finally(() => {\r\n        setIsLoad(false);\r\n      });\r\n  };\r\n\r\n  const handleRegistration = (email, password) => {\r\n    auth\r\n      .registration(email, password)\r\n      .then((res) => {\r\n        handleTooltipOpen();\r\n        if (res) {\r\n          history.push(\"/sign-in\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        handleTooltipOpen();\r\n        if(err.status === 400){\r\n          console.log('не передано одно из полей')\r\n          return\r\n        }\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const handleAuthorization = (email, password) => {\r\n    auth\r\n      .authorization(email, password)\r\n      .then((res) => {\r\n        if (res) {\r\n          setUserEmail(email);\r\n          handleLogIn(true);\r\n          history.push(\"/\")\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        if(err.status === 400){\r\n          console.log(\"400 - не передано одно из полей\")\r\n          return\r\n        }\r\n        if (err.status === 401){\r\n          console.log(\"401 - пользователь с email не найден\")\r\n          return\r\n        }\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header userEmail={userEmail} handleLogOut={handleLogOut}/>\r\n        <Switch>\r\n          <ProtectedRoute\r\n            exact\r\n            path=\"/\"\r\n            component={Main}\r\n            loggedIn={loggedIn}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onCardClick={handleCardClick}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleDeleteCardClick}\r\n            cards={cards}\r\n          />\r\n          \r\n          <Route path=\"/sign-in\">\r\n            <Login\r\n              onSubmit={handleAuthorization}\r\n              handleLogIn={handleLogIn}\r\n              handleTooltipOpen={handleTooltipOpen}\r\n            />\r\n          </Route>\r\n\r\n          <Route path=\"/sign-up\">\r\n            <Register onSubmit={handleRegistration}/>\r\n          </Route>\r\n\r\n          <Route>\r\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n          </Route>\r\n        </Switch>\r\n        <Footer />\r\n        <Loader isLoading={isLoading}/>\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n          isLoad={isLoad}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          isLoad={isLoad}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n          isLoad={isLoad}\r\n        />\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n        <DeleteCardPopup\r\n          card={cardToDelete}\r\n          onClose={closeAllPopups}\r\n          onClick={handleCardDelete}\r\n          isLoad={isLoad}\r\n        />\r\n        <InfoTooltip\r\n          loggedIn={loggedIn}\r\n          isOpen={isInfoTooltipPopupOpen}\r\n          onClose={closeAllPopups}\r\n        ></InfoTooltip>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter }  from 'react-router-dom';\nimport './index.css';\nimport { App } from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nreportWebVitals();\n"],"sourceRoot":""}